<mat-toolbar color="primary">
  <mat-toolbar-row>
    <span>DeCS Indexer</span>
    <span style="flex: 1 1 auto;"></span>
    <!-- <mat-icon class="example-icon" aria-hidden="false" aria-label="User logged in">verified_user</mat-icon> -->
  </mat-toolbar-row>
</mat-toolbar>

<div fxLayout="row" fxLayoutGap="2em grid" style="padding: 2em">

  <div fxFlex="70">
    <h3>{{ article?.title }}</h3>
    <p>{{ article?.abstractText }}</p>
  </div>

  <div fxFlex="30">
    <h3>DeCS IDs</h3>

    <form fxLayout="column">
      <mat-form-field floatLabel="never">
        <mat-label>Select annotator</mat-label>
        <mat-select name="annotator" [(ngModel)]="annotator">
          <mat-option *ngFor="let annotator of annotators" [value]="annotator">
            {{ annotator.name }} ({{ annotator.id }})
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field appearance="fill">
        <textarea matInput name="descriptors" placeholder="DeCS codes..." [(ngModel)]="descriptorsString"></textarea>
        <mat-hint>NÃºmero del Registro</mat-hint>
      </mat-form-field>

      <!-- OK -->
      <!-- <mat-form-field *ngFor="let descriptor of descriptors"> -->
      <mat-form-field>
        <input matInput placeholder="Filter a descriptor..." aria-label="DeCS Code" [formControl]="myControl"
          [matAutocomplete]="auto">
        <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete" [displayWith]="displayFn" (optionSelected)="onSelectionChange($event)">
          
          <!-- <mat-option *ngFor="let user of filteredUsers | async" [value]="user">
            {{ user.name }}
          </mat-option> -->

          <mat-option *ngFor="let descriptor of filteredDescriptors | async" [value]="descriptor">
            ({{ descriptor.decsCode }}) {{ descriptor.termSpanish }}
          </mat-option>
        
        </mat-autocomplete>
      </mat-form-field>
    </form>

    <button mat-flat-button color="accent" (click)="toArray(); saveDecs()">SAVE</button>

    <a mat-stroked-button color="primary" target="_blank"
      href="http://decs.bvs.br/cgi-bin/wxis1660.exe/decsserver/?IsisScript=../cgi-bin/decsserver/decsserver.xis&interface_language=e&previous_page=homepage&previous_task=NULL&task=start">
      Go to DeCS website
    </a>
  </div>
</div>